# Uncomment the next line to define a global platform for your project
 platform :ios, '10.0'

def libVersion
  pod 'Protobuf'
  pod "AFNetworking", "4.0.1"
  pod "CocoaLumberjack", "3.6.1"
  pod "AliyunOSSiOS", "2.10.8"
  pod "Whiteboard", "2.13.13"
  pod "AgoraRtcEngine_iOS", "3.4.6"
  pod "AgoraRtm_iOS", "1.4.8"
end

def openSourceLibs
  # open source libs
  pod 'AgoraEduContext', :path => '../AgoraEduContext/AgoraEduContext.podspec' 
  pod 'AgoraEduUI', :path => '../AgoraEduUI/AgoraEduUI.podspec'
  pod 'AgoraUIEduBaseViews', :path => '../Modules/AgoraUIEduBaseViews/AgoraUIEduBaseViews_Local.podspec'
end

def widgets
  pod 'AgoraWidgets', :path => '../../Widgets/AgoraWidgets/AgoraWidgets.podspec'
end

def sourcePod
  # close source libs
  pod 'AgoraEduCore', :path => '../../../cloudclass-ios/SDKs/AgoraEduCore/AgoraEduCore_Local.podspec'
  pod 'AgoraActionProcess', :path => '../../../cloudclass-ios/SDKs/Modules/AgoraActionProcess/AgoraActionProcess.podspec', :subspecs => ['OC']
  pod 'AgoraWhiteBoard', :path => '../../../cloudclass-ios/SDKs/Modules/AgoraWhiteBoard/AgoraWhiteBoard.podspec'
  pod 'AgoraReport', :path => '../../../cloudclass-ios/SDKs/Modules/AgoraReport/AgoraReport.podspec'
  pod 'AgoraRx', :path => '../../../cloudclass-ios/SDKs/Modules/AgoraRx/AgoraRx.podspec'
  pod 'AgoraLog', :path => '../../../cloudclass-ios/SDKs/Modules/AgoraLog/AgoraLog.podspec'
  pod 'EduSDK', :path => '../../../cloudclass-ios/SDKs/Modules/EduSDK/EduSDK.podspec'
	
  # common libs
  pod 'AgoraWidget', :path => '../../../apaas-common-libs-ios/SDKs/AgoraWidget/AgoraWidget_Local.podspec'
  pod 'AgoraExtApp', :path => '../../../apaas-common-libs-ios/SDKs/AgoraExtApp/AgoraExtApp_Local.podspec'
  pod 'AgoraUIBaseViews', :path => '../../../apaas-common-libs-ios/SDKs/AgoraUIBaseViews/AgoraUIBaseViews_Local.podspec'  
end

def binaryPod
  pod 'AgoraEduCore'

  # common libs
  pod 'AgoraUIBaseViews'
  pod 'AgoraWidget'
  pod 'AgoraExtApp'
end

target 'AgoraClassroomSDK' do
  # Comment the next line if you don't want to use dynamic frameworks
  use_frameworks!
  
  libVersion
  openSourceLibs
  widgets	

  sourcePod
  #binaryPod
  
  post_install do |installer|
     installer.pods_project.targets.each do |target|
         target.build_configurations.each do |config|
             config.build_settings['BITCODE_GENERATION_MODE'] = 'bitcode'
             config.build_settings['ENABLE_BITCODE'] = 'YES'
             config.build_settings['BUILD_LIBRARY_FOR_DISTRIBUTION'] = 'YES'
         end
     end
  end
end
